(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{2213:function(e,t,a){"use strict";a.r(t),a.d(t,"UpdateQuestion",function(){return j});var n=a(94),s=a(40),i=a(41),o=a(44),l=a(42),c=a(43),r=a(45),u=a(0),g=a.n(u),h=a(63),m=a.n(h),p=a(1688),d=a(496),b=a(1655),C=a(2278),T=a(29),f=a(106),v=p.a.Item,x=d.a.TextArea,O={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18},md:{span:16},lg:{span:12}}},j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).onChangeTitle=a.onChangeTitle.bind(Object(r.a)(Object(r.a)(a))),a.onChangeContentText=a.onChangeContentText.bind(Object(r.a)(Object(r.a)(a))),a.onChangeTags=a.onChangeTags.bind(Object(r.a)(Object(r.a)(a))),a.onChangeFile=a.onChangeFile.bind(Object(r.a)(Object(r.a)(a))),a.onSubmit=a.onSubmit.bind(Object(r.a)(Object(r.a)(a))),a.state={title:"",contentText:"",tags:"",originalname:""},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.a.get("http://localhost:5000/question/".concat(this.props.match.params.id)).then(function(t){e.setState({title:t.data.title,contentText:t.data.contentText,tags:t.data.tags,originalname:t.data.originalname})}).catch(function(e){console.log("ERROR IS "+e)})}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeContentText",value:function(e){this.setState({contentText:e.target.value})}},{key:"onChangeTags",value:function(e){this.setState({tags:e.target.value})}},{key:"onChangeFile",value:function(e){this.setState({originalname:e.target.files[0]})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=new FormData;t.append("title",this.state.title),t.append("contentText",this.state.contentText),t.append("tags",this.state.tags),t.append("image",this.state.originalname),console.log(t);m.a.post("http://localhost:5000/question/update/".concat(this.props.match.params.id),t,{headers:{"content-type":"multipart/form-data"}}).then(function(e){return console.log(e.data)}),window.location="/question/my-posts"}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.title,s=t.contentText,i=t.tags;return g.a.createElement(g.a.Fragment,null,g.a.createElement(b.a,{className:"gx-card",title:"Ask a question"},g.a.createElement(p.a,{onSubmit:this.onSubmit,encType:"multipart/form-data"},g.a.createElement(v,Object.assign({},O,{label:"Title",hasFeedback:!0,value:this.state.title,onChange:this.onChangeTitle}),"  ",e("title",{initialValue:a,rules:[{required:!0,message:"Title is missing !"}]})(g.a.createElement(d.a,{required:!0,value:this.state.title,onChange:this.onChangeTitle}))),g.a.createElement(v,Object.assign({},O,{label:"Body",hasFeedback:!0}),e("Body",{initialValue:s,rules:[Object(n.a)({required:!0,message:"content text is missing !",min:6},"message","contentText must have 6+ characters long")]})(g.a.createElement(x,{rows:6,value:this.state.contentText,onChange:this.onChangeContentText,id:"success"}))),g.a.createElement(v,Object.assign({},O,{label:"Tags",hasFeedback:!0}),e("tags",{initialValue:i,rules:[{required:!0,message:"Please enter at least one tag !"}]})(g.a.createElement(d.a,{value:this.state.tags,onChange:this.onChangeTags}))),g.a.createElement(v,Object.assign({},O,{label:"Screenshot",onChange:this.onChangeFile}),e("image",{rules:[{required:!0,message:"Screenshot is missing !"}]})(g.a.createElement("div",{className:"dropbox"},g.a.createElement(C.a.Dragger,{name:"files",action:"/upload.do",listType:"picture"},g.a.createElement("p",{className:"ant-upload-drag-icon"},g.a.createElement(T.a,{type:"inbox"})),g.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),g.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload.")))))),g.a.createElement(f.a,{type:"primary",htmlType:"submit",onClick:this.onSubmit},"Edit")))}}]),t}(u.Component);t.default=p.a.create()(j)}}]);
//# sourceMappingURL=122.c2157d7b.chunk.js.map