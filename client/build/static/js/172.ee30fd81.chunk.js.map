{"version":3,"sources":["routes/groupsUi/Invitations/CreateInvitation.js"],"names":["Option","Select","FormItem","Form","Item","formItemLayout","Input","TextArea","labelCol","xs","span","sm","wrapperCol","md","lg","CreateInvitation","_Component","props","_this","Object","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleChange","e","selectedId","target","value","console","log","selected","state","admins","find","d","id","setState","auth","profile","profiles","onChangeFromuser","bind","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","onChangeTouser","onChangeGroupname","onChangeRole","onChangeAccepted","getProfiles","onSubmit","from_user","to_user","role","groupname","accepted","groups","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","_this2","axios","get","then","res","localStorage","getItem","data","filter","gp","superadmin","name","catch","err","alert","preventDefault","invitation","post","window","location","_this3","getFieldDecorator","form","Rprofiles","pf","user","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","antd__WEBPACK_IMPORTED_MODULE_13__","className","title","antd__WEBPACK_IMPORTED_MODULE_11__","assign","label","hasFeedback","rules","required","message","antd__WEBPACK_IMPORTED_MODULE_10__","placeholder","map","onClick","group","index","onChange","antd__WEBPACK_IMPORTED_MODULE_12__","antd__WEBPACK_IMPORTED_MODULE_14__","type","htmlType","Component","WrappedCreateInvitation","create","connect"],"mappings":"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","file":"static/js/172.ee30fd81.chunk.js","sourcesContent":["import React, { Component, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { getProfiles } from \"../../../appRedux/actions/profile\";\r\n\r\nimport { Card, Form, Input, Select, Button } from \"antd\";\r\nconst Option = Select.Option;\r\nconst FormItem = Form.Item;\r\nconst { TextArea } = Input;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 5 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 18 },\r\n    md: { span: 16 },\r\n    lg: { span: 12 }\r\n  }\r\n};\r\n\r\nexport class CreateInvitation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(this.props.auth);\r\n    console.log(props.profile.profiles);\r\n\r\n    this.onChangeFromuser = this.onChangeFromuser.bind(this);\r\n    this.onChangeTouser = this.onChangeTouser.bind(this);\r\n    this.onChangeGroupname = this.onChangeGroupname.bind(this);\r\n    this.onChangeRole = this.onChangeRole.bind(this);\r\n    this.onChangeAccepted = this.onChangeAccepted.bind(this);\r\n    this.props.getProfiles();\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      from_user: \"\",\r\n      to_user: \"\",\r\n      role: [],\r\n      groupname: \"\",\r\n      accepted: \"\",\r\n      groups: []\r\n    };\r\n  }\r\n\r\n  handleChange = e => {\r\n    // Get the selected value which is a string\r\n    var selectedId = e.target.value;\r\n    console.log(selectedId);\r\n    // Reverse look up on the array to find the full object\r\n    var selected = this.state.admins.find(d => d.id == selectedId);\r\n    console.log(selected);\r\n    // Update state with object\r\n    this.setState({ selected });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      admins: [],\r\n      from_user: \"sender user\",\r\n      to_user: \"receiver user\",\r\n      groupname: \"\",\r\n      role: [\"membre\"],\r\n      accepted: false\r\n    });\r\n    this.props.getProfiles();\r\n    axios\r\n      .get(\"http://localhost:5000/group\")\r\n      .then(res => {\r\n        this.setState({\r\n          admins: [],\r\n          from_user: localStorage.getItem(\"name\"),\r\n          to_user: \"receiver user\",\r\n          groupname: \"\",\r\n          role: [\"membre\"],\r\n          accepted: false,\r\n          groups: res.data\r\n        });\r\n        this.setState({\r\n          groups: this.state.groups.filter(\r\n            gp => gp.superadmin.name === localStorage.getItem(\"name\")\r\n          )\r\n        });\r\n        console.log(this.state);\r\n      })\r\n      .catch(err => alert(err));\r\n  }\r\n  onChangeFromuser(e) {\r\n    this.setState({\r\n      from_user: e.target.value\r\n    });\r\n    console.log(this.state.from_user);\r\n  }\r\n  onChangeTouser(e) {\r\n    this.setState({\r\n      to_user: e\r\n    });\r\n    console.log(this.state.to_user);\r\n  }\r\n  onChangeRole(e) {\r\n    this.setState({\r\n      role: e.target.value\r\n    });\r\n    console.log(this.state.role);\r\n  }\r\n  onChangeGroupname(e) {\r\n    this.setState({\r\n      groupname: e\r\n    });\r\n    console.log(this.state.groupname);\r\n  }\r\n\r\n  onChangeAccepted(e) {\r\n    this.setState({\r\n      accepted: e.target.value\r\n    });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const invitation = {\r\n      from_user: this.state.from_user,\r\n      to_user: this.state.to_user,\r\n      groupname: this.state.groupname,\r\n      role: this.state.role,\r\n      accepted: this.state.accepted\r\n    };\r\n\r\n    console.log(invitation);\r\n\r\n    axios\r\n      .post(\"http://localhost:5000/invitation/add\", invitation)\r\n      .then(res => console.log(res.data));\r\n    window.location = \"/invitation/invitation-list\";\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const { profiles } = this.props.profile;\r\n    const Rprofiles = profiles.filter(\r\n      pf => pf.user.name !== localStorage.getItem(\"name\")\r\n    );\r\n    console.log(Rprofiles);\r\n    return (\r\n      <Card className=\"gx-card\" title=\"Invite\">\r\n        <Form>\r\n          <FormItem\r\n            {...formItemLayout}\r\n            label=\"Members\"\r\n            hasFeedback\r\n            value={this.state.to_user}\r\n          >\r\n            {getFieldDecorator(\"status\", {\r\n              rules: [\r\n                {\r\n                  required: false,\r\n                  message: \"Please select Professional Status\"\r\n                }\r\n              ]\r\n            })(\r\n              <Select placeholder=\"Please select Professional Status\">\r\n                {Rprofiles.map(profile => (\r\n                  <Option\r\n                    value={profile.user.name}\r\n                    onClick={() => this.onChangeTouser(profile.user.name)}\r\n                  >\r\n                    {profile.user.name}\r\n                  </Option>\r\n                ))}\r\n              </Select>\r\n            )}\r\n          </FormItem>\r\n          <h3>To Join </h3>\r\n\r\n          <FormItem\r\n            {...formItemLayout}\r\n            label=\"Group name\"\r\n            hasFeedback\r\n            value={this.state.groupname}\r\n          >\r\n            <Select placeholder=\"Please select Group Name\">\r\n              {this.state.groups.map((group, index) => (\r\n                <Option\r\n                  value={group.name}\r\n                  key={index}\r\n                  onClick={() => this.onChangeGroupname(group.name)}\r\n                >\r\n                  {group.name}\r\n                </Option>\r\n              ))}\r\n            </Select>\r\n          </FormItem>\r\n          <h3> As a :</h3>\r\n\r\n          <FormItem\r\n            {...formItemLayout}\r\n            label=\"Member or Admin\"\r\n            hasFeedback\r\n            value={this.state.role}\r\n            onChange={this.onChangeRole}\r\n          >\r\n            <Input placeholder=\"Admin / Member \" id=\"success\" />\r\n          </FormItem>\r\n        </Form>\r\n        <Button type=\"primary\" htmlType=\"submit\" onClick={this.onSubmit}>\r\n          Invite\r\n        </Button>\r\n        <br />\r\n        <br />\r\n      </Card>\r\n    );\r\n  }\r\n}\r\nconst WrappedCreateInvitation = Form.create()(CreateInvitation);\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  profile: state.profile\r\n});\r\nexport default connect(mapStateToProps, { getProfiles })(\r\n  WrappedCreateInvitation\r\n);\r\n"],"sourceRoot":""}