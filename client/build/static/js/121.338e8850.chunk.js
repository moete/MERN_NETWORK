(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{2211:function(e,t,a){"use strict";a.r(t),a.d(t,"CreateQuestion",function(){return x});var n=a(94),s=a(40),o=a(41),l=a(44),i=a(42),c=a(43),r=a(45),u=a(0),g=a.n(u),m=a(63),h=a.n(m),p=a(1688),d=a(496),b=a(1655),C=a(2278),T=a(29),f=a(106),v=p.a.Item,j=d.a.TextArea,O={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18},md:{span:16},lg:{span:12}}},x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).onChangeTitle=a.onChangeTitle.bind(Object(r.a)(Object(r.a)(a))),a.onChangeContentText=a.onChangeContentText.bind(Object(r.a)(Object(r.a)(a))),a.onChangeTags=a.onChangeTags.bind(Object(r.a)(Object(r.a)(a))),a.onChangeFile=a.onChangeFile.bind(Object(r.a)(Object(r.a)(a))),a.onSubmit=a.onSubmit.bind(Object(r.a)(Object(r.a)(a))),a.state={title:"",contentText:"",tags:"",originalname:""},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"onChangeFile",value:function(e){this.setState({originalname:e.target.files[0]})}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeContentText",value:function(e){this.setState({contentText:e.target.value})}},{key:"onChangeTags",value:function(e){this.setState({tags:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){if(console.log("values",a),!e){var n=new FormData;n.append("title",t.state.title),n.append("contentText",t.state.contentText),n.append("tags",t.state.tags),n.append("image",t.state.originalname),console.log(n);h.a.post("http://localhost:5000/question/add",n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){return console.log(e.data)}),window.location="/question/my-posts"}})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return g.a.createElement(g.a.Fragment,null,g.a.createElement(b.a,{className:"gx-card",title:"Ask a question"},g.a.createElement(p.a,{onSubmit:this.onSubmit,encType:"multipart/form-data"},g.a.createElement(v,Object.assign({},O,{label:"Title",hasFeedback:!0,value:this.state.title,onChange:this.onChangeTitle}),e("title",{rules:[{required:!0,message:"Title is missing !"}]})(g.a.createElement(d.a,{placeholder:"I'm the title"}))),g.a.createElement(v,Object.assign({},O,{label:"Body",hasFeedback:!0,value:this.state.contentText,onChange:this.onChangeContentText}),e("Body",{rules:[Object(n.a)({required:!0,message:"content text is missing !",min:6},"message","contentText must have 6+ characters long")]})(g.a.createElement(j,{rows:6,placeholder:"I'm the content text",id:"success"}))),g.a.createElement(v,Object.assign({},O,{label:"Tags",hasFeedback:!0,value:this.state.tags,onChange:this.onChangeTags}),e("tags",{rules:[{required:!0,message:"Please enter at least one tag !"}]})(g.a.createElement(d.a,{placeholder:"Tags & technologies",id:"success"}))),g.a.createElement(v,Object.assign({},O,{label:"Screenshot",onChange:this.onChangeFile}),g.a.createElement("div",{className:"dropbox"},g.a.createElement(C.a.Dragger,{name:"files",action:"/upload.do",listType:"picture"},g.a.createElement("p",{className:"ant-upload-drag-icon"},g.a.createElement(T.a,{type:"inbox"})),g.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),g.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload."))))),g.a.createElement(f.a,{type:"primary",htmlType:"submit",onClick:this.onSubmit},"Post your question")))}}]),t}(u.Component);t.default=p.a.create()(x)}}]);
//# sourceMappingURL=121.338e8850.chunk.js.map