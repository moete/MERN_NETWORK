{"version":3,"sources":["routes/ApiContent/Questions/EditQuestion.js"],"names":["FormItem","Form","Item","TextArea","Input","formItemLayout","labelCol","xs","span","sm","wrapperCol","md","lg","UpdateQuestion","_Component","props","_this","Object","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","onChangeTitle","bind","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","onChangeContentText","onChangeTags","onChangeFile","onSubmit","state","title","contentText","tags","originalname","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","key","value","_this2","axios","get","concat","match","params","id","then","response","setState","data","catch","error","console","log","e","target","files","preventDefault","formData","FormData","append","post","headers","content-type","res","window","location","getFieldDecorator","form","_this$state","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","Fragment","antd__WEBPACK_IMPORTED_MODULE_11__","className","antd__WEBPACK_IMPORTED_MODULE_9__","encType","assign","label","hasFeedback","onChange","initialValue","rules","required","message","antd__WEBPACK_IMPORTED_MODULE_10__","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","min","rows","antd__WEBPACK_IMPORTED_MODULE_12__","Dragger","name","action","listType","antd__WEBPACK_IMPORTED_MODULE_13__","type","antd__WEBPACK_IMPORTED_MODULE_14__","htmlType","onClick","Component","create"],"mappings":"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","file":"static/js/122.c2157d7b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Card, Form, Input, Button, Upload, Icon } from \"antd\";\r\n\r\nconst FormItem = Form.Item;\r\nconst { TextArea } = Input;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 5 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 18 },\r\n    md: { span: 16 },\r\n    lg: { span: 12 }\r\n  }\r\n};\r\n\r\nexport class UpdateQuestion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeTitle = this.onChangeTitle.bind(this);\r\n    this.onChangeContentText = this.onChangeContentText.bind(this);\r\n    this.onChangeTags = this.onChangeTags.bind(this);\r\n    this.onChangeFile = this.onChangeFile.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      title: \"\",\r\n      contentText: \"\",\r\n      tags: \"\",\r\n      originalname: \"\",\r\n        };\r\n  }\r\n  componentDidMount() {\r\n    axios\r\n      .get(`http://localhost:5000/question/${this.props.match.params.id}`)\r\n      .then(response => {\r\n        this.setState({\r\n          title: response.data.title,\r\n          contentText: response.data.contentText,\r\n          tags: response.data.tags,\r\n          originalname: response.data.originalname\r\n        });\r\n      })\r\n      .catch(function(error) {\r\n        console.log(\"ERROR IS \" + error);\r\n      });\r\n  }\r\n  onChangeTitle(e) {\r\n    this.setState({\r\n      title: e.target.value\r\n    });\r\n  }\r\n  onChangeContentText(e) {\r\n    this.setState({\r\n      contentText: e.target.value\r\n    });\r\n  }\r\n  onChangeTags(e) {\r\n    this.setState({\r\n      tags: e.target.value\r\n    });\r\n  }\r\n  onChangeFile(e) {\r\n    this.setState({\r\n      originalname: e.target.files[0]\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"title\", this.state.title);\r\n    formData.append(\"contentText\", this.state.contentText);\r\n    formData.append(\"tags\", this.state.tags);\r\n    formData.append(\"image\", this.state.originalname);\r\n\r\n    console.log(formData);\r\n    const config = {\r\n      headers: {\r\n        \"content-type\": \"multipart/form-data\"\r\n      }\r\n    };\r\n    axios\r\n      .post(\r\n        `http://localhost:5000/question/update/${this.props.match.params.id}`,\r\n        formData,\r\n        config\r\n      )\r\n      .then(res => console.log(res.data));\r\n    window.location = \"/question/my-posts\";\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const {title, contentText, tags } = this.state;\r\n    return (\r\n      <>\r\n      \r\n        <Card className=\"gx-card\" title=\"Ask a question\">\r\n          <Form onSubmit={this.onSubmit} encType=\"multipart/form-data\">\r\n          <FormItem\r\n              {...formItemLayout}\r\n             \r\n              label=\"Title\"\r\n              hasFeedback\r\n              value={this.state.title}\r\n              onChange={this.onChangeTitle}\r\n            >  {getFieldDecorator(\"title\", {\r\n              initialValue:title,\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: \"Title is missing !\"\r\n                }\r\n              ]\r\n            })(\r\n              <Input\r\n              required\r\n               value={this.state.title}\r\n               onChange={this.onChangeTitle}\r\n               />)}\r\n            </FormItem>\r\n            <FormItem {...formItemLayout} label=\"Body\" hasFeedback>\r\n              {getFieldDecorator(\"Body\", {\r\n                 initialValue:contentText,\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: \"content text is missing !\",\r\n                    min: 6,\r\n                    message: \"contentText must have 6+ characters long\"\r\n                  }\r\n                ]\r\n              })(\r\n                <TextArea\r\n                  rows={6}\r\n                  value={this.state.contentText}\r\n                  onChange={this.onChangeContentText}\r\n                  id=\"success\"\r\n                />\r\n              )}\r\n            </FormItem>\r\n            <FormItem {...formItemLayout} label=\"Tags\" hasFeedback>\r\n              {getFieldDecorator(\"tags\", {\r\n               initialValue:tags,\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: \"Please enter at least one tag !\"\r\n                  }\r\n                ]\r\n              })(\r\n                <Input value={this.state.tags} onChange={this.onChangeTags} />\r\n              )}\r\n            </FormItem>\r\n\r\n            <FormItem\r\n              {...formItemLayout}\r\n              label=\"Screenshot\"\r\n              onChange={this.onChangeFile}\r\n            >\r\n              {getFieldDecorator(\"image\", {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: \"Screenshot is missing !\"\r\n                  }\r\n                ]\r\n              })(\r\n                <div className=\"dropbox\">\r\n                  {\r\n                    <Upload.Dragger\r\n                      name=\"files\"\r\n                      action=\"/upload.do\"\r\n                      listType=\"picture\"\r\n                    >\r\n                      <p className=\"ant-upload-drag-icon\">\r\n                        <Icon type=\"inbox\" />\r\n                      </p>\r\n                      <p className=\"ant-upload-text\">\r\n                        Click or drag file to this area to upload\r\n                      </p>\r\n                      <p className=\"ant-upload-hint\">\r\n                        Support for a single or bulk upload.\r\n                      </p>\r\n                    </Upload.Dragger>\r\n                  }\r\n                </div>\r\n              )}\r\n            </FormItem>\r\n          </Form>\r\n\r\n          <Button type=\"primary\" htmlType=\"submit\" onClick={this.onSubmit}>\r\n           Edit\r\n          </Button>\r\n        </Card>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form.create()(UpdateQuestion);\r\n"],"sourceRoot":""}