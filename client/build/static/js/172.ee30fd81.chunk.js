(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{2175:function(e,t,a){"use strict";a.r(t),a.d(t,"CreateInvitation",function(){return k});var n=a(40),o=a(41),r=a(44),s=a(42),l=a(43),u=a(45),c=a(0),i=a.n(c),m=a(63),p=a.n(m),h=a(23),g=a(65),b=a(355),d=a(1688),f=a(496),v=a(1655),C=a(106),O=b.a.Option,j=d.a.Item,S=(f.a.TextArea,{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18},md:{span:16},lg:{span:12}}}),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).handleChange=function(e){var t=e.target.value;console.log(t);var n=a.state.admins.find(function(e){return e.id==t});console.log(n),a.setState({selected:n})},console.log(a.props.auth),console.log(e.profile.profiles),a.onChangeFromuser=a.onChangeFromuser.bind(Object(u.a)(Object(u.a)(a))),a.onChangeTouser=a.onChangeTouser.bind(Object(u.a)(Object(u.a)(a))),a.onChangeGroupname=a.onChangeGroupname.bind(Object(u.a)(Object(u.a)(a))),a.onChangeRole=a.onChangeRole.bind(Object(u.a)(Object(u.a)(a))),a.onChangeAccepted=a.onChangeAccepted.bind(Object(u.a)(Object(u.a)(a))),a.props.getProfiles(),a.onSubmit=a.onSubmit.bind(Object(u.a)(Object(u.a)(a))),a.state={from_user:"",to_user:"",role:[],groupname:"",accepted:"",groups:[]},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({admins:[],from_user:"sender user",to_user:"receiver user",groupname:"",role:["membre"],accepted:!1}),this.props.getProfiles(),p.a.get("http://localhost:5000/group").then(function(t){e.setState({admins:[],from_user:localStorage.getItem("name"),to_user:"receiver user",groupname:"",role:["membre"],accepted:!1,groups:t.data}),e.setState({groups:e.state.groups.filter(function(e){return e.superadmin.name===localStorage.getItem("name")})}),console.log(e.state)}).catch(function(e){return alert(e)})}},{key:"onChangeFromuser",value:function(e){this.setState({from_user:e.target.value}),console.log(this.state.from_user)}},{key:"onChangeTouser",value:function(e){this.setState({to_user:e}),console.log(this.state.to_user)}},{key:"onChangeRole",value:function(e){this.setState({role:e.target.value}),console.log(this.state.role)}},{key:"onChangeGroupname",value:function(e){this.setState({groupname:e}),console.log(this.state.groupname)}},{key:"onChangeAccepted",value:function(e){this.setState({accepted:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={from_user:this.state.from_user,to_user:this.state.to_user,groupname:this.state.groupname,role:this.state.role,accepted:this.state.accepted};console.log(t),p.a.post("http://localhost:5000/invitation/add",t).then(function(e){return console.log(e.data)}),window.location="/invitation/invitation-list"}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.profile.profiles.filter(function(e){return e.user.name!==localStorage.getItem("name")});return console.log(a),i.a.createElement(v.a,{className:"gx-card",title:"Invite"},i.a.createElement(d.a,null,i.a.createElement(j,Object.assign({},S,{label:"Members",hasFeedback:!0,value:this.state.to_user}),t("status",{rules:[{required:!1,message:"Please select Professional Status"}]})(i.a.createElement(b.a,{placeholder:"Please select Professional Status"},a.map(function(t){return i.a.createElement(O,{value:t.user.name,onClick:function(){return e.onChangeTouser(t.user.name)}},t.user.name)})))),i.a.createElement("h3",null,"To Join "),i.a.createElement(j,Object.assign({},S,{label:"Group name",hasFeedback:!0,value:this.state.groupname}),i.a.createElement(b.a,{placeholder:"Please select Group Name"},this.state.groups.map(function(t,a){return i.a.createElement(O,{value:t.name,key:a,onClick:function(){return e.onChangeGroupname(t.name)}},t.name)}))),i.a.createElement("h3",null," As a :"),i.a.createElement(j,Object.assign({},S,{label:"Member or Admin",hasFeedback:!0,value:this.state.role,onChange:this.onChangeRole}),i.a.createElement(f.a,{placeholder:"Admin / Member ",id:"success"}))),i.a.createElement(C.a,{type:"primary",htmlType:"submit",onClick:this.onSubmit},"Invite"),i.a.createElement("br",null),i.a.createElement("br",null))}}]),t}(c.Component),E=d.a.create()(k);t.default=Object(h.b)(function(e){return{auth:e.auth,profile:e.profile}},{getProfiles:g.l})(E)}}]);
//# sourceMappingURL=172.ee30fd81.chunk.js.map