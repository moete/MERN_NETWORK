{"version":3,"sources":["routes/ApiContent/Questions/CreateQuestion.js"],"names":["FormItem","Form","Item","TextArea","Input","formItemLayout","labelCol","xs","span","sm","wrapperCol","md","lg","CreateQuestion","_Component","props","_this","Object","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","onChangeTitle","bind","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","onChangeContentText","onChangeTags","onChangeFile","onSubmit","state","title","contentText","tags","originalname","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","key","value","e","setState","target","files","_this2","preventDefault","form","validateFields","err","values","console","log","formData","FormData","append","axios","post","headers","content-type","then","res","data","window","location","getFieldDecorator","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","Fragment","antd__WEBPACK_IMPORTED_MODULE_11__","className","antd__WEBPACK_IMPORTED_MODULE_9__","encType","assign","label","hasFeedback","onChange","rules","required","message","antd__WEBPACK_IMPORTED_MODULE_10__","placeholder","C_Users_Youssef_Desktop_PI_MERN_NETWORK_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","min","rows","id","antd__WEBPACK_IMPORTED_MODULE_12__","Dragger","name","action","listType","antd__WEBPACK_IMPORTED_MODULE_13__","type","antd__WEBPACK_IMPORTED_MODULE_14__","htmlType","onClick","Component","create"],"mappings":"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","file":"static/js/121.338e8850.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Card, Form, Input, Button, Upload, Icon } from \"antd\";\r\n\r\nconst FormItem = Form.Item;\r\nconst { TextArea } = Input;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 5 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 18 },\r\n    md: { span: 16 },\r\n    lg: { span: 12 }\r\n  }\r\n};\r\nconst headers = {\r\n  \"Content-type\": \"multipart/form-data; boundary=-------------573cf973d5228\"\r\n};\r\nexport class CreateQuestion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeTitle = this.onChangeTitle.bind(this);\r\n    this.onChangeContentText = this.onChangeContentText.bind(this);\r\n    this.onChangeTags = this.onChangeTags.bind(this);\r\n    this.onChangeFile = this.onChangeFile.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      title: \"\",\r\n      contentText: \"\",\r\n      tags: \"\",\r\n      originalname: \"\"\r\n    };\r\n  }\r\n  onChangeFile(e) {\r\n    this.setState({\r\n      originalname: e.target.files[0]\r\n    });\r\n  }\r\n  onChangeTitle(e) {\r\n    this.setState({\r\n      title: e.target.value\r\n    });\r\n  }\r\n  onChangeContentText(e) {\r\n    this.setState({\r\n      contentText: e.target.value\r\n    });\r\n  }\r\n  onChangeTags(e) {\r\n    this.setState({\r\n      tags: e.target.value\r\n    });\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      console.log(\"values\", values);\r\n      if (!err) {\r\n        const formData = new FormData();\r\n\r\n        formData.append(\"title\", this.state.title);\r\n        formData.append(\"contentText\", this.state.contentText);\r\n        formData.append(\"tags\", this.state.tags);\r\n        formData.append(\"image\", this.state.originalname);\r\n\r\n        console.log(formData);\r\n        const config = {\r\n          headers: {\r\n            \"content-type\": \"multipart/form-data\"\r\n          }\r\n        };\r\n        axios\r\n          .post(\"http://localhost:5000/question/add\", formData, config)\r\n          .then(res => console.log(res.data));\r\n        //this.props.history.push(\"/question/my-posts\");\r\n         window.location = \"/question/my-posts\";\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      <>\r\n        <Card className=\"gx-card\" title=\"Ask a question\">\r\n          <Form onSubmit={this.onSubmit} encType=\"multipart/form-data\">\r\n            <FormItem\r\n              {...formItemLayout}\r\n              label=\"Title\"\r\n              hasFeedback\r\n              value={this.state.title}\r\n              onChange={this.onChangeTitle}\r\n            >\r\n              {getFieldDecorator(\"title\", {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: \"Title is missing !\"\r\n                  }\r\n                ]\r\n              })(<Input placeholder=\"I'm the title\" />)}\r\n            </FormItem>\r\n            <FormItem\r\n              {...formItemLayout}\r\n              label=\"Body\"\r\n              hasFeedback\r\n              value={this.state.contentText}\r\n              onChange={this.onChangeContentText}\r\n            >\r\n              {getFieldDecorator(\"Body\", {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: \"content text is missing !\",\r\n                    min: 6,\r\n                    message: \"contentText must have 6+ characters long\"\r\n                  }\r\n                ]\r\n              })(\r\n                <TextArea\r\n                  rows={6}\r\n                  placeholder=\"I'm the content text\"\r\n                  id=\"success\"\r\n                />\r\n              )}\r\n            </FormItem>\r\n            <FormItem\r\n              {...formItemLayout}\r\n              label=\"Tags\"\r\n              hasFeedback\r\n              value={this.state.tags}\r\n              onChange={this.onChangeTags}\r\n            >\r\n              {getFieldDecorator(\"tags\", {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: \"Please enter at least one tag !\"\r\n                  }\r\n                ]\r\n              })(<Input placeholder=\"Tags & technologies\" id=\"success\" />)}\r\n            </FormItem>\r\n\r\n            <FormItem\r\n              {...formItemLayout}\r\n              label=\"Screenshot\"\r\n              onChange={this.onChangeFile}\r\n            >\r\n              <div className=\"dropbox\">\r\n                {\r\n                  <Upload.Dragger\r\n                    name=\"files\"\r\n                    action=\"/upload.do\"\r\n                    listType=\"picture\"\r\n                  >\r\n                    <p className=\"ant-upload-drag-icon\">\r\n                      <Icon type=\"inbox\" />\r\n                    </p>\r\n                    <p className=\"ant-upload-text\">\r\n                      Click or drag file to this area to upload\r\n                    </p>\r\n                    <p className=\"ant-upload-hint\">\r\n                      Support for a single or bulk upload.\r\n                    </p>\r\n                  </Upload.Dragger>\r\n                }\r\n              </div>\r\n            </FormItem>\r\n          </Form>\r\n\r\n          <Button type=\"primary\" htmlType=\"submit\" onClick={this.onSubmit}>\r\n            Post your question\r\n          </Button>\r\n        </Card>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form.create()(CreateQuestion);\r\n"],"sourceRoot":""}